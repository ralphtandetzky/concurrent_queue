a concurrent queue snippet in C++
